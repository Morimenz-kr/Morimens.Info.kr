<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="referrer" content="no-referrer">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>ë§ê°ì „ì•¼ (Morimens)</title>

    <link rel="icon" type="image/webp" href="images/smile_Ramona.webp">

    <meta property="og:type" content="website">
    <meta property="og:url" content="https://morimenz-kr.github.io/Morimens.Info.kr/">
    <meta property="og:title" content="ë§ê°ì „ì•¼ (Morimens) ì¢…í•© ê°€ì´ë“œ">
    <meta property="og:description" content="ìºë¦­í„° ê³µëµ, í™˜ëª½ì‹¬ì , ìœµì¬ê¸ˆêµ¬, ì¿ í° ë“± ë§ê°ì „ì•¼ì˜ ëª¨ë“  ì •ë³´ë¥¼ í•œëˆˆì— í™•ì¸í•˜ì„¸ìš”.">
    <meta property="og:image" content="https://morimenz-kr.github.io/Morimens.Info.kr/images/background.png">

    <style>
        /* --- 1. ê¸°ë³¸ ì„¤ì • --- */
        * { box-sizing: border-box; }

        html, body {
            width: 100%;
            min-height: 100vh; /* ìµœì†Œ ë†’ì´ */
            margin: 0; padding: 0;
            overflow-x: hidden; /* ê°€ë¡œ ìŠ¤í¬ë¡¤ ë°©ì§€ */
        }

        body {
            font-family: 'Pretendard', 'Apple SD Gothic Neo', sans-serif;
            display: flex;
            justify-content: center;
            align-items: center; /* ì„¸ë¡œ ì¤‘ì•™ ì •ë ¬ */
            background-color: #1a1a1a;
            color: #ecf0f1;
        }

        /* ğŸ”¥ ë°°ê²½ ê³ ì • ë ˆì´ì–´ (ëª¨ë°”ì¼ ì™„ë²½ ëŒ€ì‘) */
        .bg-image {
            position: fixed;
            top: 0; left: 0; right: 0; bottom: 0;
            z-index: -1;
            background-image: url('images/background.webp');
            background-size: cover;
            background-position: center center;
            background-repeat: no-repeat;
            will-change: transform;
            transform: translateZ(0);
            height: 100vh;
            min-height: -webkit-fill-available; /* iOS Safari ëŒ€ì‘ */
        }
        .background-overlay {
            position: fixed; top: 0; left: 0; right: 0; bottom: 0;
            background-color: rgba(0, 0, 0, 0.75); z-index: 1;
        }

        /* --- 2. ë©”ì¸ ë ˆì´ì•„ì›ƒ --- */
        .landing-container {
            position: relative; z-index: 2;
            width: 100%; max-width: 800px;
            padding: 40px 20px;
            display: flex; flex-direction: column;
            justify-content: center; align-items: center;
            gap: 25px;
        }

        header { flex: 0 0 auto; width: 100%; text-align: center; }
        h1 {
            margin: 0; color: #fff; font-size: 2.2em;
            text-shadow: 0 2px 4px rgba(0,0,0,0.5); word-break: keep-all;
        }

        /* --- 3. ë°°ë„ˆ ìŠ¬ë¼ì´ë” --- */
        .banner-container {
            flex: 0 0 auto; position: relative;
            width: 100%; height: 140px;
            border-radius: 12px; overflow: hidden;
            box-shadow: 0 4px 15px rgba(0,0,0,0.6);
            border: 1px solid #555;
        }

        .banner-track { display: flex; width: 100%; height: 100%; }

        .banner-slide {
            min-width: 100%; height: 100%;
            display: flex; justify-content: center; align-items: center;
            text-decoration: none; color: white; position: relative; overflow: hidden;
        }
        .banner-slide img {
            width: 100%; height: 100%; object-fit: cover; display: block;
            filter: brightness(0.6); transition: filter 0.2s;
        }
        .banner-slide:hover img { filter: brightness(0.8); }

        .banner-content {
            position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%);
            z-index: 2; text-align: center; width: 100%;
            text-shadow: 0 2px 10px rgba(0,0,0,0.8); pointer-events: none;
        }
        .banner-tag { background: #ffc107; color: #000; padding: 4px 8px; border-radius: 4px; font-weight: bold; font-size: 0.9em; margin-right: 8px; vertical-align: middle; }
        .banner-text { font-size: 1.4em; font-weight: bold; color: #fff; vertical-align: middle; }

        .arrow {
            position: absolute; top: 0; bottom: 0; width: 50px;
            background: none; border: none; cursor: pointer; z-index: 20;
            display: flex; align-items: center; justify-content: center;
            transition: background 0.2s;
        }
        .arrow:hover { background: rgba(0,0,0,0.2); }
        .arrow svg { width: 40px; height: 40px; stroke: rgba(255, 255, 255, 0.6); transition: stroke 0.2s, transform 0.2s; }
        .arrow:hover svg { stroke: #ffc107; transform: scale(1.1); }
        .arrow.left { left: 0; }
        .arrow.right { right: 0; }

        .dots-container {
            position: absolute; bottom: 10px; left: 50%; transform: translateX(-50%);
            display: flex; gap: 8px; z-index: 10;
        }
        .dot { width: 8px; height: 8px; background: rgba(255,255,255,0.5); border-radius: 50%; cursor: pointer; transition: all 0.3s; }
        .dot.active { background: #fff; transform: scale(1.2); width: 20px; border-radius: 4px; }

        /* --- 4. ë©”ë‰´ ê·¸ë¦¬ë“œ --- */
        .menu-grid-wrapper {
            width: 100%; display: flex; flex-direction: column; justify-content: center;
        }

        .menu-grid {
            display: grid; grid-template-columns: repeat(3, 1fr);
            gap: 15px; width: 100%;
        }

        .menu-wrapper {
            text-decoration: none; color: inherit;
            display: flex; flex-direction: column; align-items: center; justify-content: center;
        }

        .menu-item {
            display: flex; justify-content: center; align-items: center;
            width: 100%; aspect-ratio: 1.6 / 1;
            background: #333; border-radius: 12px; font-size: 2.2em;
            border: 1px solid #444; box-shadow: 0 4px 10px rgba(0,0,0,0.5);
            transition: background 0.2s, transform 0.2s;
        }
        .menu-wrapper:hover .menu-item { background: #444; border-color: #666; transform: scale(0.98); }

        .menu-label {
            margin-top: 8px; font-size: 1.0em; font-weight: bold; color: #ccc;
            white-space: nowrap; text-shadow: 0 1px 2px rgba(0,0,0,0.8);
        }

        /* í‘¸í„° */
        footer {
            flex: 0 0 auto; width: 100%; text-align: center;
            font-size: 0.8em; color: #888;
        }
        .patch-link { color: #999; text-decoration: underline; cursor: pointer; }

        /* --- ğŸ“± ëª¨ë°”ì¼ ìµœì í™” --- */
        @media (max-width: 600px) {
            .landing-container { padding: 20px 15px; gap: 15px; }
            h1 { font-size: 1.8em; }

            .menu-grid { grid-template-columns: repeat(2, 1fr); gap: 10px; }
            .menu-item { font-size: 1.8em; border-radius: 10px; aspect-ratio: 2 / 1; }
            .menu-label { font-size: 0.9em; }

            .menu-wrapper:last-child { grid-column: span 2; }
            .menu-wrapper:last-child .menu-item { aspect-ratio: 4.2 / 1; }

            .banner-container { height: 120px; }
            .arrow svg { width: 30px; height: 30px; }
        }

        /* íŒ¨ì¹˜ë…¸íŠ¸ ëª¨ë‹¬ */
        .modal-overlay { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background-color: rgba(0,0,0,0.85); z-index: 1000; justify-content: center; align-items: center; }
        .modal-overlay.show { display: flex; }
        .modal-content { width: 90%; max-width: 500px; background-color: #222; border-radius: 12px; padding: 20px; border: 1px solid #444; max-height: 80vh; display: flex; flex-direction: column; text-align: left; }
        .modal-header { display: flex; justify-content: space-between; align-items: center; border-bottom: 1px solid #444; padding-bottom: 10px; margin-bottom: 10px; }
        .modal-header h2 { margin: 0; font-size: 1.2em; color: #ffc107; }
        .close-btn { background: none; border: none; color: #aaa; font-size: 1.5em; cursor: pointer; }
        .patch-list { overflow-y: auto; padding-right: 5px; }
        .patch-item { margin-bottom: 15px; }
        .patch-ver { font-weight: bold; color: #eee; }
        .patch-date { font-size: 0.8em; color: #777; margin-left: 5px; }
        .patch-desc { margin: 5px 0 0 0; padding-left: 15px; color: #ccc; font-size: 0.85em; }
    </style>
</head>
<body>
<div class="bg-image"></div>
<div class="background-overlay"></div>

<div class="landing-container">
    <header>
        <h1>ë§ê°ì „ì•¼ (Morimens)</h1>
    </header>

    <div class="banner-container">
        <div class="banner-track" id="banner-track">

            <a href="https://www.youtube.com/@morimensofficial" target="_blank" class="banner-slide">
                <img src="images/banner_youtube.png" alt="ìœ íŠœë¸Œ ë°°ë„ˆ">
            </a>

            <a href="https://discord.com/invite/VJhuUdHxmc/" target="_blank" class="banner-slide">
                <img src="images/Banner_Discord.png" alt="ë””ìŠ¤ì½”ë“œ ë°°ë„ˆ">
            </a>
            
        </div>

        <button class="arrow left" id="prev-btn">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="15 18 9 12 15 6"></polyline></svg>
        </button>
        <button class="arrow right" id="next-btn">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="9 18 15 12 9 6"></polyline></svg>
        </button>

        <div class="dots-container" id="dots-container"></div>
    </div>

    <div class="menu-grid-wrapper">
        <div class="menu-grid">
            <a href="list.html" class="menu-wrapper"><div class="menu-item">â­</div><p class="menu-label">ê°ì„±ì²´ ì •ë³´</p></a>
            <a href="links.html?category=dreamdive" class="menu-wrapper"><div class="menu-item">ğŸŒŠ</div><p class="menu-label">í™˜ëª½ì‹¬ì  ì •ë³´</p></a>
            <a href="links.html?category=weapon" class="menu-wrapper"><div class="menu-item">ğŸ—¡ï¸</div><p class="menu-label">ìœµì¬ê¸ˆêµ¬ ì •ë³´</p></a>
            <a href="links.html?category=system" class="menu-wrapper"><div class="menu-item">âš™ï¸</div><p class="menu-label">ì‹œìŠ¤í…œ ì •ë³´</p></a>
            <a href="links.html?category=covenant" class="menu-wrapper"><div class="menu-item">ğŸ“œ</div><p class="menu-label">ë¹„ë°€ê³„ì•½ ì •ë³´</p></a>
            <a href="links.html?category=myeongryun" class="menu-wrapper"><div class="menu-item">ğŸ”˜</div><p class="menu-label">ëª…ë¥œ ì •ë³´</p></a>
            <a href="links.html?category=code" class="menu-wrapper"><div class="menu-item">ğŸŸï¸</div><p class="menu-label">êµí™˜ ì½”ë“œ</p></a>
            <a href="links.html?category=newbie" class="menu-wrapper"><div class="menu-item">ğŸ£</div><p class="menu-label">ë‰´ë¹„ íŒ</p></a>
            <a href="links.html?category=etc" class="menu-wrapper"><div class="menu-item">ğŸ¸</div><p class="menu-label">ê¸°íƒ€</p></a>
        </div>
    </div>

    <footer>
        &copy; 2025 Morimens Fan Wiki |
        <span id="open-patch-modal" class="patch-link">Patch Notes</span>
    </footer>
</div>

<div id="patch-modal" class="modal-overlay">
    <div class="modal-content">
        <div class="modal-header">
            <h2>ğŸ“¢ ì—…ë°ì´íŠ¸ ë‚´ì—­</h2>
            <button id="close-patch-modal" class="close-btn">&times;</button>
        </div>
        <div class="patch-list" id="patch-list-content">
            <p style="text-align:center; color:#777;">ë¡œë”© ì¤‘...</p>
        </div>
    </div>
</div>

<script>
    document.addEventListener('DOMContentLoaded', () => {
        // --- ë°°ë„ˆ ìŠ¬ë¼ì´ë” ë¡œì§ ---
        const track = document.getElementById('banner-track');
        const originalSlides = Array.from(track.children);
        const nextBtn = document.getElementById('next-btn');
        const prevBtn = document.getElementById('prev-btn');
        const dotsContainer = document.getElementById('dots-container');

        const slideCount = originalSlides.length;
        let currentIndex = 1;
        let autoSlideInterval;
        let isTransitioning = false;

        const firstClone = originalSlides[0].cloneNode(true);
        const lastClone = originalSlides[slideCount - 1].cloneNode(true);

        track.appendChild(firstClone);
        track.insertBefore(lastClone, originalSlides[0]);

        track.style.transform = `translateX(-100%)`;

        originalSlides.forEach((_, idx) => {
            const dot = document.createElement('div');
            dot.classList.add('dot');
            if (idx === 0) dot.classList.add('active');
            dot.addEventListener('click', () => {
                resetTimer();
                moveToSlide(idx + 1);
            });
            dotsContainer.appendChild(dot);
        });
        const dots = Array.from(dotsContainer.children);

        function updateDots(index) {
            let realIndex = index - 1;
            if (realIndex < 0) realIndex = slideCount - 1;
            if (realIndex >= slideCount) realIndex = 0;

            dots.forEach(d => d.classList.remove('active'));
            dots[realIndex].classList.add('active');
        }

        function moveToSlide(index) {
            if (isTransitioning) return;
            isTransitioning = true;

            track.style.transition = 'transform 0.5s ease-in-out';
            track.style.transform = `translateX(-${index * 100}%)`;
            currentIndex = index;
            updateDots(currentIndex);
        }

        track.addEventListener('transitionend', () => {
            isTransitioning = false;
            if (currentIndex === slideCount + 1) {
                track.style.transition = 'none';
                currentIndex = 1;
                track.style.transform = `translateX(-100%)`;
            }
            if (currentIndex === 0) {
                track.style.transition = 'none';
                currentIndex = slideCount;
                track.style.transform = `translateX(-${slideCount * 100}%)`;
            }
        });

        function resetTimer() {
            clearInterval(autoSlideInterval);
            autoSlideInterval = setInterval(() => moveToSlide(currentIndex + 1), 5000);
        }

        nextBtn.addEventListener('click', () => {
            resetTimer();
            moveToSlide(currentIndex + 1);
        });

        prevBtn.addEventListener('click', () => {
            resetTimer();
            moveToSlide(currentIndex - 1);
        });

        resetTimer();

        const bannerContainer = document.querySelector('.banner-container');
        bannerContainer.addEventListener('mouseenter', () => clearInterval(autoSlideInterval));
        bannerContainer.addEventListener('mouseleave', () => resetTimer());


        // --- íŒ¨ì¹˜ë…¸íŠ¸ ë¡œì§ ---
        const modal = document.getElementById('patch-modal');
        const openBtn = document.getElementById('open-patch-modal');
        const closeBtn = document.getElementById('close-patch-modal');
        const listContent = document.getElementById('patch-list-content');

        async function loadPatchNotes() {
            try {
                const ts = new Date().getTime();
                const res = await fetch(`data/patch_notes.json?t=${ts}`);
                if(!res.ok) throw new Error('Load failed');
                const data = await res.json();
                let html = '';
                data.forEach(item => {
                    let changesHtml = item.changes.map(c => `<li>${c}</li>`).join('');
                    html += `<div class="patch-item"><span class="patch-ver">${item.version}</span><span class="patch-date">${item.date}</span><ul class="patch-desc">${changesHtml}</ul></div><hr style="border-color:#333; opacity:0.5;">`;
                });
                listContent.innerHTML = html.replace(/<hr[^>]*>(?=[^<]*$)/, '');

                if(data.length > 0) {
                    openBtn.textContent = `Patch Notes ${data[0].version}`;
                }
            } catch (e) { listContent.innerHTML = 'ë¡œë“œ ì‹¤íŒ¨'; }
        }

        loadPatchNotes();

        openBtn.addEventListener('click', () => { modal.classList.add('show'); });
        closeBtn.addEventListener('click', () => modal.classList.remove('show'));
        modal.addEventListener('click', (e) => { if(e.target === modal) modal.classList.remove('show'); });
    });
</script>
</body>
</html>